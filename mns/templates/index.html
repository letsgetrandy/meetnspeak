{% extends "base.html" %}

{% block sidenav %}{% endblock %}
{% block bodyclass %}wide{% endblock %}

{% block styles %}
{{ block.super }}
<style>
header .stuff {
    color:#fc5;
    display:none;
}
header .stuff::before {
    border-radius:50%;
    background:#59c;
    content:' ';
    display:inline-block;
    height:1em;
    margin-right:10px;
    width:1em;
}
header .other {
    color:#cc5;
}
header .other::before {
    background:#cc5;
}
.head {
    border-radius:10px;
    overflow:hidden;
    position:relative;
}
.head .content {
    color:#999;
    left:0px;
    line-height:2em;
    text-align:center;
    text-shadow:1px 1px 6px #000;
    top:0px;
}
main {
    padding:1em;
}
</style>
{% endblock %}

{% block body %}
<header>
<div class="head">
    <div class="content">Spikizi!</div>
</div>
</header>

<main>
<div class="split loginform">
    <div style="text-align:center">
        <img src="/static/images/spikizi.png">
    </div>
    <div>
        <p>Welcome!</p>
        <p><strong><em>Spikizi</em></strong> (say, "speak easy") is a place for you to
        find people who speak the same languages you do.</p>
        <p>Who it's for:</p>
        <ul>
            <li>Expats and immigrants who miss the sound of their homeland...</li>
            <li>Language learners looking for people to practice with...</li>
            <li>Travelers who need a tour guide...</li>
            <li>Anyone who wants to find someone else to speak to!</li>
        </ul>
        <div class="field">
            <button id="install">Install FirefoxOS app!</button>
            <script>
            (function(){
                function install(ev) {
                    ev.preventDefault();
                    // define the manifest URL
                    var manifest_url = "http://localhost:8000/static/manifest.webapp";
                    // install the app
                    var myapp = navigator.mozApps.install(manifest_url);
                    myapp.onsuccess = function(data) {
                        // App is installed, remove button
                        this.parentNode.removeChild(this);
                        alert('success');
                    };
                    myapp.onerror = function() {
                        // App wasn't installed, info is in
                        // installapp.error.name
                        alert(this.error.name);
                    };
                };
                // get a reference to the button and call install() on click
                var button = document.getElementById('install');
                button.addEventListener('click', install, false);
            })();
            </script>
        </div>
    </div>
</div>
<p>&nbsp;</p>
<div class="split loginform">
    <div>
        <div class="field">
            <p>Find foreign language speakers near you. It's free!</p>
            <p><button onclick="location='{% url signup %}';">Sign up now!</button></p>
        </div>
    </div>
    <div>
        <div class="field">
            <p>Already a member?</p>
            <button onclick="location='{% url login %}';">Login</button>
        </div>
        <p>&nbsp;</p>
    </div>
</div>
</main>

<footer>
</footer>
{% endblock %}
